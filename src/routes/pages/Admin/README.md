# 后台管理系统

基于 Swagger API 文档构建的完整后台管理系统，提供以下功能模块：

## 🔐 登录认证

### 两种登录模式

#### 1. 钱包登录模式
- **钱包连接**: 支持 MetaMask 等以太坊钱包
- **自动签名**: 使用 `personal_sign` 自动签名钱包地址
- **一键登录**: 连接钱包后一键完成签名和登录

#### 2. 手动输入模式
- **地址输入**: 手动输入钱包地址
- **签名输入**: 手动输入签名结果
- **离线登录**: 适用于离线环境或特殊场景

### 登录流程

#### 钱包登录流程
1. 切换到"钱包登录"标签页
2. 点击"连接钱包"按钮连接 MetaMask
3. 系统自动获取钱包地址
4. 点击"签名并登录"进行签名验证
5. 验证成功后进入管理后台

#### 手动输入流程
1. 切换到"手动输入"标签页
2. 输入钱包地址
3. 输入对钱包地址的签名结果
4. 点击"登录"按钮
5. 验证成功后进入管理后台

### 签名说明
- **签名内容**: 钱包地址本身
- **签名方法**: `personal_sign`
- **参数格式**: `personal_sign(address, address)`

## 功能模块

### 1. 系统设置
- **邀请码开关**: 控制是否启用邀请码功能
- **第一个任务ID**: 设置用户首次进入时显示的任务

### 2. 邀请码管理
- **生成邀请码**: 批量生成邀请码，支持自定义前缀
- **邀请码列表**: 查看所有邀请码及其状态
- **状态管理**: 启用/禁用邀请码

### 3. 徽章管理
- **创建徽章**: 支持多种徽章类型（成就、参与、特殊、里程碑）
- **徽章列表**: 查看所有徽章信息
- **图片上传**: 支持徽章图片上传
- **排序管理**: 设置徽章显示顺序
- **状态控制**: 启用/禁用徽章

### 4. 签到奖励管理
- **奖励配置**: 设置连续签到天数和奖励
- **积分奖励**: 配置签到获得的积分
- **徽章奖励**: 关联奖励徽章
- **奖励列表**: 管理所有签到奖励规则

### 5. 任务管理
- **任务组管理**: 创建和管理任务组
- **任务创建**: 支持多种任务类型
  - 邀请任务：设置邀请人数要求
  - Twitter发帖任务：配置发帖内容要求
  - 问答任务：设置问题和答案
  - 签到任务：自动签到奖励
- **任务审核**: 审核用户提交的任务
- **图片上传**: 支持任务图片上传
- **时间管理**: 设置任务开始和结束时间

### 6. 管理员用户管理
- **创建管理员**: 添加新的管理员用户
- **状态管理**: 启用/禁用管理员账户
- **权限控制**: 基于钱包地址的身份验证

## 技术特性

### API 服务层
- 完整的 TypeScript 类型定义
- 统一的错误处理
- 分页支持
- 文件上传功能

### 用户界面
- 基于 NextUI 的现代化设计
- 响应式布局
- 实时状态更新
- 友好的错误提示

### 数据管理
- 列表分页
- 搜索和筛选
- 批量操作
- 状态同步

## 使用说明

### 环境配置
确保在 `.env` 文件中配置正确的 API 基础 URL：
```
REACT_APP_API_BASE_URL=https://your-api-domain.com
```

### 权限要求
- 需要管理员权限才能访问
- 钱包地址必须在管理员列表中
- 登录需要钱包签名验证

### 操作流程
1. **登录认证**: 使用钱包签名登录管理后台
2. **系统设置**: 配置全局设置
3. **创建徽章**: 为任务奖励创建徽章
4. **设置签到奖励**: 配置签到相关的奖励规则
5. **创建任务**: 在任务组中创建各种类型的任务
6. **管理邀请码**: 生成和管理邀请码
7. **用户管理**: 管理管理员账户

## 注意事项

- 所有时间字段使用 Unix 时间戳
- 图片上传支持常见格式（jpg, png, gif 等）
- 删除操作需要二次确认
- 状态变更会立即生效
- 建议定期备份重要配置

## 扩展功能

系统设计支持以下扩展：
- 用户行为分析
- 数据统计报表
- 批量导入导出
- 操作日志记录
- 权限细分管理
